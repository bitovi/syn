<!DOCTYPE html>

<!--[if lt IE 7]>
<html class="no-js ie lt-ie9 lt-ie8 lt-ie7" lang="en">
<![endif]-->
<!--[if IE 7]>
<html class="no-js ie lt-ie9 lt-ie8" lang="en">
<![endif]-->
<!--[if IE 8]>
<html class="no-js ie lt-ie9" lang="en">
<![endif]-->
<!--[if IE 9]>
<html class="no-js ie ie9" lang="en">
<![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->
<head>
	<meta charset="utf-8">
	<title>PhantomJS - FuncUnit Guides</title>
	<meta name="description" content="">
	<meta name="author" content="">

	<link rel="stylesheet" type="text/css" 
		
			href='./static/production.css'
		 />
	<!--[if lt IE 9]>
   <script type="text/javascript" src="../scripts/static/lib/html5shiv.js"></script>
    <!--<![endif]-->
</head>

<body class="guides">
	<header>
		<nav class="container">

			<div class="logo-menu">
				<a class="brand funcunit" href="../index.html">FuncUnit</a>
				<ul class="dropdown-menu">
					<li><a href="http://javascriptmvc.com">JavaScriptMVC</a></li>
					<li><a href="http://canjs.com">CanJS</a></li>
					<li><a href="http://jquerypp.com">jQuery++</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!stealjs">StealJS</a></li>
					<li class="active"><a href="../index.html">FuncUnit</a></li>
					<li><a href="http://javascriptmvc.com/docs.html#!DocumentJS">DocumentJS</a></li>
				</ul>
			</div>
			<ul class="nav">
				<li class=""><a href="../index.html">Home</a></li>
				<li class="active"><a href="../guides/index.html">Guides</a></li>
				<li class=""><a href="../docs/index.html">Api</a></li>
				<li class=""><a href="../community.html#!forums">Community</a></li>
			</ul>
			<div class="pull-right">
				<div class="bitovi-menu">
					<a href="http://bitovi.com" class="bitovi icon-bits">Bitovi</a>
					<ul class="dropdown-menu">
						<li><a href="http://bitovi.com">Bitovi.com</a></li>
						<li><a href="http://bitovi.com/blog/">Blog</a></li>
						<li><a href="http://bitovi.com/consulting/">Consulting</a></li>
						<li><a href="http://bitovi.com/training/">Training</a></li>
						<li><a href="http://bitovi.com/open-source/">Open Source</a></li>
						<li><a href="http://bitovi.com/people/">People</a></li>
						<li><a href="http://bitovi.com/contact/">Contact Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>

	<div class="container api">
	<nav class="sidebar">
		
		<div class="search-wrapper">
			<div class="search">
				<input type="text"/>
			</div>
		</div>
		
		<ul class="api">
	<!-- First Level -->
	
	   <li class="search-container">
	   		<a href="funcunit.actions.html" data-search="Actions">
				Actions
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="funcunit.coverage.html" data-search="Code Coverage">
				Code Coverage
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="funcunit.demos.html" data-search="Demos">
				Demos
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="funcunit.features.html" data-search="Features">
				Features
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="funcunit.finding.html" data-search="Finding Elements">
				Finding Elements
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="funcunit.getters.html" data-search="Getters &amp; Assertions">
				Getters &amp; Assertions
			</a>
			
	   </li>
	
	   <li class="search-container active">
	   		<a href="funcunit.integrations.html" data-search="Integrations">
				Integrations
			</a>
			
				
	<ul class="primary-grouping">
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="funcunit.envjs.html" 
							data-search="EnvJS">
							EnvJS
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="funcunit.grunt.html" 
							data-search="Grunt">
							Grunt
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="funcunit.jenkins.html" 
							data-search="Jenkins">
							Jenkins
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="funcunit.maven.html" 
							data-search="Maven">
							Maven
						</a>
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container active  expanded">
						<a 	class="page" 
							href="funcunit.phantomjs.html" 
							data-search="PhantomJS">
							PhantomJS
						</a>
						
							
						
					</li>
				
			
			
		
			
				
				
					<li class="search-container  ">
						<a 	class="page" 
							href="funcunit.selenium.html" 
							data-search="Selenium">
							Selenium
						</a>
						
					</li>
				
			
			
		
	</ul>

			
	   </li>
	
	   <li class="search-container">
	   		<a href="funcunit.remote.html" data-search="Targeting Remote Sites">
				Targeting Remote Sites
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="funcunit.waits.html" data-search="Waits">
				Waits
			</a>
			
	   </li>
	
	   <li class="search-container">
	   		<a href="started.html" data-search="Getting Started Guide">
				Getting Started Guide
			</a>
			
	   </li>
	
</ul>
	</nav>
	<article class="content docs">
		<section class="title">
			<div class="pull-right">
	<ul class="tags">
		<li>page</li>
	</ul>
	<ul class="links">
		
			<li><a href="https://github.com/bitovi/funcunit/tree/v3.3.0-rc1/phantomjs.md">source</a></li>
		
		
			
		
		
	</ul>
</div>

<h1>
PhantomJS

	
		<span class="module">funcunit.phantomjs</span>
	


</h1>

<span class="inherits">&nbsp;</span>

		</section>

		<section class="contents">
		</section>

		<section class="description">
			
		</section>

		

		
		
		
		

		
		<section class="comment">
			<p><a href="http://www.phantomjs.org/">PhantomJS</a> is a headless WebKit. FuncUnit integrates with Phantom to run 
tests from the commandline.  This has large performance benefits, enough that it makes it much more 
feasible to integrate FuncUnit tests into your build process without significantly slowing it down.</p>

<p>FuncUnit supports running in phantom two ways: via Rhino (like the rest of JMVC) and via NodeJS (the future of JMVC).</p>

<h2>Rhino Mode</h2>

<p>The advantage to Rhino mode is there is little additional setup.  If you're already using JMVC, you have Java installed, so all you must do is install PhantomJS.</p>

<p>The disadvantage to Rhino mode is, due to a compatibility issue, it is required to use an old version of Phantom - 1.3.0.</p>

<h3>Install</h3>

<p>Before you can use PhantomJS, you have to install it. The other automation tools come prepackaged in 
JMVC, but Phantom is too large of a download.</p>

<p>Note: There is a known issue with Phantom 1.4.0+ in Rhino Mode.  Please be sure to use Phantom 1.3.0 to avoid Broken Pipe errors.  </p>

<p><strong>On Mac</strong></p>

<ol>
<li>Download <a href="http://code.google.com/p/phantomjs/downloads/detail?name=phantomjs-1.3.0-macosx-static-x86.zip&amp;can=2&amp;q=">PhantomJS</a></li>
<li>Unzip it somewhere like: <em>/Applications/</em></li>
<li>Add it to your path:</li>
</ol>

<pre><code class="lang-javascript">sudo ln -s /Applications/phantomjs-1.3.0/bin/phantomjs /usr/local/bin/</code></pre>

<p><em>Note: Not all systems will have /usr/local/bin/.  Some systems will have: /usr/bin/, /bin/, or usr/X11/bin instead.</em></p>

<p><strong>On Windows</strong></p>

<ol>
<li>Download <a href="http://code.google.com/p/phantomjs/downloads/detail?name=phantomjs-1.3.0-win32-dynamic.zip&amp;can=2&amp;q=">PhantomJS</a></li>
<li>Install it</li>
<li>Add it to your path.  For information on setting path variable in Windows, <a href="http://www.java.com/en/download/help/path.xml">click here</a>.</li>
</ol>

<h3>Use</h3>

<p>To run any test via PhantomJS:</p>

<pre><code class="lang-javascript">./js funcunit/open/phantomjs http://localhost/path/to/funcunit.html</code></pre>

<h2>NodeJS Mode</h2>

<p>The advantage to NodeJS mode is Node is faster than Rhino and can integrate with [funcunit.grunt GruntJS.</p>

<p>The disadvantage to NodeJS mode is you have to install and setup Node and NPM.</p>

<h3>Install</h3>

<ol>
<li>Install <a href="http://nodejs.org/download/">NodeJS</a>.  It should come with <a href="https://npmjs.org/">NPM</a> - Node's package manager.</li>
<li>Install the latest <a href="http://phantomjs.org/download.html">PhantomJS</a>.  Make sure the binary is in your PATH - Instructions on this are listed above in Rhino Mode Install.</li>
<li><code>cd funcunit</code> and <code>npm install</code> to install FuncUnit's node module dependencies.</li>
</ol>

<h3>Use</h3>

<p>To run any test via PhantomJS in NodeJS:</p>

<pre><code class="lang-javascript">node node funcunit/node/run.js http://localhost/path/to/funcunit.html</code></pre>

<h2>Differences between Phantom and other browsers</h2>

<h3>Drag events</h3>

<p>Note that Phantom emulates mobile Webkit, so it provides support for touch events.  Because of this, FuncUnit drag actions don't work in Phantom.</p>

<h3>Iframe vs window.open</h3>

<p>In Rhino mode, calling F.open will open an iframe in the funcunit.html page, rather than a separate window via window.open. Phantom 1.3.0 doesn't support window.open, so a frame is used instead. This can occassionally cause problems if your application assumes it is running within window.top.</p>

<p>In NodeJS mode we're running off latest Phantom 1.8.0 that does support window.open, so this isn't an issue.</p>

<h2>Debugging</h2>

<p>If you notice a broken test, debugging it in Phantom is not the place to start. Open the test in browser, and 
verify the same test breaks there.  If so, debug the test in browser.</p>

<p>If you notice the more rare event that a test breaks in Phantom but works in browser, you can use console.log 
to debug it. In <code>steal/browser/phantomjs/launcher.js</code>, uncomment the page.onConsoleMessage function. Add console.logs to your code and debug.</p>
		</section>
		

		
	</article>
</div>



	<footer>
		<nav class="container">
			<a class="brand javascriptmvc" href="index.html"></a>
			<ul class="nav">
				<li class=""><a href="../index.html">Home</a></li>
				<li class="active"><a href="../guides/index.html">Guides</a></li>
				<li class=""><a href="../docs/index.html">Api</a></li>
				<li class=""><a href="../community.html#!forums">Community</a></li>
			</ul>
		</nav>
	</footer>
	<script type="text/javascript">
		steal = {
			productionId: "production.js",
			executed: ["documentjs/site/static/build/production.css"]
		}
	</script>
	<script 
	
		src="./static/steal.production.js"
	
		></script>
</body>

</html>
