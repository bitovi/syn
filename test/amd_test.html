<!doctype html>
<html>
	<head>
		<link rel="stylesheet" href="../node_modules/steal-qunit/node_modules/qunitjs/qunit/qunit.css"/>
		<title>QUnit Test</title>
	</head>
	<body>
		<div id="qunit"></div>
		<div id="qunit-fixture"></div>
		<div id="qunit-fixture"></div>

		<script src="../node_modules/steal-qunit/node_modules/qunitjs/qunit/qunit.js"></script>
		<script type="text/javascript">
			QUnit.config.current = {
				ignoreGlobalErrors: true
			};
			QUnit.config.autostart = false;
			QUnit.config.reorder = false;
			QUnit.config.testTimeout = 5000;
		</script>
		<script type="text/javascript">
			// Socket.IO <1 doesn't play will with require.js and causes a global
			// failure. Until testee supports Socket.IO >1 we'll have to ignore.
			QUnit.config.current = {
				ignoreGlobalErrors: true
			};
			QUnit.config.autostart = false;
			QUnit.config.reorder = false;
			QUnit.config.testTimeout = 5000;
		</script>
		<script type="text/javascript" src="../node_modules/requirejs/require.js"></script>
		<script>
			require.config({
				"baseUrl": "..",
				"paths": {
					"jquery": "node_modules/jquery/dist/jquery"
				},
				 packages: [{
				    	name: 'syn',
				    	location: 'dist/amd',
				    	main: 'syn'
			    }]
			});

			require(["syn","jquery"], function(syn, jQuery) {
				window.syn = syn;
				window.jQuery = window.$ = jQuery;
				var script = document.createElement("script");
				script.onload = function(){
					QUnit.start();
				};
				script.src = "../build/tests/standalone_test.js";
				document.body.appendChild(script);
			});
		</script>
	</body>
</html>

